@using CarOLiner.Shared.ResponseModels

<DataGrid     
   TItem="ProductResponse"
   Data="@ProductResponses"
   @bind-SelectedRow = "@selectedProduct"
   Filterable
   Responsive
   DetailRowTrigger ="@((product)=>product.Item.Items.Count > 0 && product.Item.ProductId == selectedProduct?.ProductId)"
   
>

   <DataGridColumns>  
       
      <DataGridCommandColumn TItem="ProductResponse" NewCommandAllowed="false" DeleteCommandAllowed="false" ClearFilterCommandAllowed="false" >
          
      </DataGridCommandColumn>
          
        <DataGridColumn TItem="ProductResponse" Field="@nameof(ProductResponse.ProductName)" Caption="Product Name" Sortable="true" Filterable="false" Editable/>          
           
   </DataGridColumns>

   <DetailRowTemplate>
       @{
           var items = (context as ProductResponse).Items;
           <ItemGrid @ref="ItemGrid" Items="@items"> </ItemGrid>

        }
   </DetailRowTemplate>
     
</DataGrid>

